using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.UIElements;

public class TarjetaP6
{
    VisualElement tarjetaRoot;
    IndividuoP6 myIndividuo;

    Label nombreLabel;
    Label apellidoLabel;
    VisualElement backgroundImage;

    public TarjetaP6(VisualElement tarjetaRoot, IndividuoP6 individuo)
    {
        this.tarjetaRoot = tarjetaRoot;
        myIndividuo = individuo;

        nombreLabel = tarjetaRoot.Q<Label>("NameLabel");
        apellidoLabel = tarjetaRoot.Q<Label>("SurnameLabel");
        backgroundImage = tarjetaRoot.Q<VisualElement>("CardImage");
        tarjetaRoot.userData = myIndividuo;

        UpdateUI();

        myIndividuo.Cambio += UpdateUI;
    }

    void UpdateUI()
    {
        nombreLabel.text = myIndividuo.Nombre;
        apellidoLabel.text = myIndividuo.Apellido;
        
        if (myIndividuo.BackgroundTexture != null)
            backgroundImage.style.backgroundImage = myIndividuo.BackgroundTexture;
    }
}
